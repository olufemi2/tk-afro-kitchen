<testsuites id="" name="" tests="3" failures="1" skipped="0" errors="0" time="18.372730999999998">
<testsuite name="safari-checkout-verification.spec.ts" timestamp="2025-06-25T07:20:32.989Z" hostname="chromium" tests="3" failures="1" skipped="0" time="23.143" errors="0">
<testcase name="Safari Checkout Verification - End to End â€º should verify Safari checkout to success flow without menu revert" classname="safari-checkout-verification.spec.ts" time="8.775">
<system-out>
<![CDATA[ðŸŽ Verifying complete Safari checkout to success flow
ðŸ›’ Step 1: Simulating successful Safari payment
ðŸŽ¯ Step 2: Navigating to Safari success page
Safari Success URL: /success?orderId=SAFARI_1750836034809&amount=24.99&method=paypal&customerEmail=safari.user%40test.com&customerName=Safari+Test+User&timestamp=1750836034809&paymentId=paypal_safari_1750836034809&safari=true&items=%5B%7B%22id%22%3A%22jollof-rice%22%2C%22name%22%3A%22Jollof+Rice%22%2C%22quantity%22%3A1%2C%22price%22%3A12.99%2C%22selectedSize%22%3A%7B%22size%22%3A%22Medium%22%2C%22price%22%3A12.99%7D%7D%2C%7B%22id%22%3A%22plantain%22%2C%22name%22%3A%22Sweet+Plantain%22%2C%22quantity%22%3A1%2C%22price%22%3A11.99%2C%22selectedSize%22%3A%7B%22size%22%3A%22Large%22%2C%22price%22%3A11.99%7D%7D%5D&deliveryDetails=%7B%22fullName%22%3A%22Safari+Test+User%22%2C%22email%22%3A%22safari.user%40test.com%22%2C%22phone%22%3A%2207123456789%22%2C%22address%22%3A%22123+Safari+Street%22%2C%22city%22%3A%22London%22%2C%22postcode%22%3A%22SW1A+1AA%22%7D
Current URL after navigation: http://localhost:3000/success?orderId=SAFARI_1750836034809&amount=24.99&method=paypal&customerEmail=safari.user%40test.com&customerName=Safari+Test+User&timestamp=1750836034809&paymentId=paypal_safari_1750836034809&safari=true&items=%5B%7B%22id%22%3A%22jollof-rice%22%2C%22name%22%3A%22Jollof+Rice%22%2C%22quantity%22%3A1%2C%22price%22%3A12.99%2C%22selectedSize%22%3A%7B%22size%22%3A%22Medium%22%2C%22price%22%3A12.99%7D%7D%2C%7B%22id%22%3A%22plantain%22%2C%22name%22%3A%22Sweet+Plantain%22%2C%22quantity%22%3A1%2C%22price%22%3A11.99%2C%22selectedSize%22%3A%7B%22size%22%3A%22Large%22%2C%22price%22%3A11.99%7D%7D%5D&deliveryDetails=%7B%22fullName%22%3A%22Safari+Test+User%22%2C%22email%22%3A%22safari.user%40test.com%22%2C%22phone%22%3A%2207123456789%22%2C%22address%22%3A%22123+Safari+Street%22%2C%22city%22%3A%22London%22%2C%22postcode%22%3A%22SW1A+1AA%22%7D
âœ… Step 3: Verifying no menu revert
âœ… SUCCESS: Stayed on success page, no menu revert!
ðŸ” Step 4: Verifying Safari success content
âš ï¸ Success message not found (may not be implemented yet)
âœ… Payment amount found
âœ… Order ID found
âš ï¸ Customer email not found (may not be implemented yet)
âš ï¸ PayPal payment method not found (may not be implemented yet)
âš ï¸ Customer name not found (may not be implemented yet)
ðŸ”„ Step 5: Testing Safari navigation handling
Found 0 navigation buttons
ðŸ›¡ï¸ Step 6: Testing Safari redirect prevention
âœ… SUCCESS: Safari redirect prevention working - stayed on success page
ðŸŽ‰ Safari checkout verification completed successfully!
]]>
</system-out>
</testcase>
<testcase name="Safari Checkout Verification - End to End â€º should verify Safari payment handler integration" classname="safari-checkout-verification.spec.ts" time="0.459">
<failure message="safari-checkout-verification.spec.ts:147:7 should verify Safari payment handler integration" type="FAILURE">
<![CDATA[  [chromium] â€º safari-checkout-verification.spec.ts:147:7 â€º Safari Checkout Verification - End to End â€º should verify Safari payment handler integration 

    Error: page.evaluate: TypeError: window.SafariPaymentHandler is not a constructor
        at eval (eval at evaluate (:291:30), <anonymous>:2:23)
        at UtilityScript.evaluate (<anonymous>:293:16)
        at UtilityScript.<anonymous> (<anonymous>:1:44)
        at eval (eval at evaluate (:291:30), <anonymous>:2:23)
        at UtilityScript.evaluate (<anonymous>:293:16)
        at UtilityScript.<anonymous> (<anonymous>:1:44)
        at /Users/I590496/work/olufemi2/tk-afro-kitchen/tests/e2e/safari-checkout-verification.spec.ts:178:35

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/safari-checkout-verificati-44cc6-payment-handler-integration-chromium/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    attachment #2: video (video/webm) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/safari-checkout-verificati-44cc6-payment-handler-integration-chromium/video.webm
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
]]>
</failure>
<system-out>
<![CDATA[ðŸ”§ Verifying Safari payment handler integration

[[ATTACHMENT|safari-checkout-verificati-44cc6-payment-handler-integration-chromium/test-failed-1.png]]

[[ATTACHMENT|safari-checkout-verificati-44cc6-payment-handler-integration-chromium/video.webm]]
]]>
</system-out>
</testcase>
<testcase name="Safari Checkout Verification - End to End â€º should verify comprehensive Safari success scenarios" classname="safari-checkout-verification.spec.ts" time="13.909">
<system-out>
<![CDATA[ðŸ“‹ Testing comprehensive Safari success scenarios
ðŸ§ª Testing scenario: PayPal Safari Payment
âœ… PayPal Safari Payment: Success page loaded correctly
âœ… PayPal Safari Payment: Amount Â£29.99 displayed
âœ… PayPal Safari Payment: Order ID PAYPAL_SAFARI_001 displayed
ðŸ§ª Testing scenario: Apple Pay Safari Payment
âœ… Apple Pay Safari Payment: Success page loaded correctly
âœ… Apple Pay Safari Payment: Amount Â£19.99 displayed
âœ… Apple Pay Safari Payment: Order ID APPLEPAY_SAFARI_002 displayed
ðŸ§ª Testing scenario: Card Safari Payment (with delays)
âœ… Card Safari Payment (with delays): Success page loaded correctly
âœ… Card Safari Payment (with delays): Amount Â£34.99 displayed
âœ… Card Safari Payment (with delays): Order ID CARD_SAFARI_003 displayed
ðŸ“‹ Safari scenarios testing completed
]]>
</system-out>
</testcase>
</testsuite>
</testsuites>